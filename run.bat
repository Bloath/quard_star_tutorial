@echo off

%cd%\output\qemu_w64\qemu-system-riscv64w.exe -M quard-star,mask-rom-path=./output/mask_rom/mask_rom.bin -m 1G -smp 8 -drive if=pflash,bus=0,unit=0,format=raw,file=./output/fw/fw.bin,id=mtd0 -drive if=mtd,format=raw,file=./output/fw/norflash.img,id=mtd1 -drive if=none,format=raw,file=./output/fw/usb.img,id=usb0 -drive if=sd,format=raw,file=./output/fw/sd.img,id=sd0 -drive if=none,format=raw,file=./output/rootfs/rootfs.img,id=disk0 -chardev socket,telnet=on,host=127.0.0.1,port=3450,server=on,wait=off,id=usb1 -netdev user,net=192.168.31.0/24,host=192.168.31.2,hostname=qemu,dns=192.168.31.56,tftp=./output,bootfile=/linux_kernel/Image,dhcpstart=192.168.31.100,hostfwd=tcp::3522-:22,hostfwd=tcp::3580-:80,id=net0 -global virtio-mmio.force-legacy=false -device virtio-blk-device,drive=disk0,id=hd0 -device virtio-gpu-device,xres=1280,yres=720,id=video0 -device virtio-mouse-device,id=input0 -device virtio-keyboard-device,id=input1 -device virtio-net-device,netdev=net0 -device usb-storage,drive=usb0 -device usb-serial,always-plugged=true,chardev=usb1 -fw_cfg name="opt/qemu_cmdline",string="qemu_vc=:vn:24x80:" -global quard-star-syscon.boot-cfg=sd --display gtk,zoom-to-fit=false --serial vc:1280x720 --serial vc:1280x720 --serial vc:1280x720 --monitor vc:1280x720 --parallel none
